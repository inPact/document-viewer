//const sampleDocument = { "documentType": "deliveryNote", "organizationId": "53eb1ee2e6c77111203d8503", "printData": { "collections": { "EXCLUSIVE_TAXES": [], "INCLUSIVE_TAXES": [], "EXEMPTED_TAXES": [], "ORDERED_OFFERS_LIST": [{ "OO_ID": "5b7286974e9df7cb00d63b3a", "OFFER_NAME": "לימונענע", "OFFER_AMOUNT": 12, "OFFER_PRICE": 12, "OFFER_CALC_AMT": 12, "OFFER_QTY": 1, "OFFER_COURSE": "Beverages", "PRINT_GROUP": "Beverages", "OFFER_UNITS": null, "OFFER_MILLI_UNITS": 0, "OPEN_PRICE": false, "OFFER_TYPE": "Simple" }, { "OO_ID": "5b7286974e9df7cb00d63b3b", "OFFER_NAME": "לימונדה", "OFFER_AMOUNT": 24, "OFFER_PRICE": 12, "OFFER_CALC_AMT": 24, "OFFER_QTY": 2, "OFFER_COURSE": "Beverages", "PRINT_GROUP": "Beverages", "OFFER_UNITS": null, "OFFER_MILLI_UNITS": 0, "OPEN_PRICE": false, "OFFER_TYPE": "Simple" }, { "OO_ID": "5b72f2bb4e9df72c01058ed9", "OFFER_NAME": "ענבים בקבוק", "OFFER_AMOUNT": 10, "OFFER_PRICE": 10, "OFFER_CALC_AMT": 10, "OFFER_QTY": 1, "OFFER_COURSE": "Other", "PRINT_GROUP": "Beverages", "OFFER_UNITS": null, "OFFER_MILLI_UNITS": 0, "OPEN_PRICE": false, "OFFER_TYPE": "Simple" }, { "OO_ID": "5b72f2bc4e9df72c01058eda", "OFFER_NAME": "לימונענע גרוס", "OFFER_AMOUNT": 19, "OFFER_PRICE": 19, "OFFER_CALC_AMT": 19, "OFFER_QTY": 1, "OFFER_COURSE": "Other", "PRINT_GROUP": "Beverages", "OFFER_UNITS": null, "OFFER_MILLI_UNITS": 0, "OPEN_PRICE": false, "OFFER_TYPE": "Simple" }], "RETURNED_OFFERS_LIST": [], "PAYMENT_LIST": [{ "P_ID": "5b72f2c44e9df72c0100b089", "P_TENDER_TYPE": "chargeAccount", "P_NAME": "אבי לוזון", "P_AMOUNT": 65, "P_CHANGE": 0, "ENTRY_METHOD": "swipe", "LAST_4": "xxxx", "PROVIDER_PAYMENT_DATE": "2018-08-14T15:18:38.382Z", "NUMBER": 1, "TIP_AMOUNT": 0, "P_AMOUNT_WO_TIP": 65, "TIP_STATUS": "none", "CANCELED": false, "CHARGE_ACCOUNT_NAME": "אבי לוזון", "SIGNATURE_CAPTURED": false, "SIGNATURE_REQUIRED": true }], "ORDER_DISCOUNTS_LIST": [], "MEMBERS": [], "GUESTS": [{ "CHAIR_NUMBER": 1, "TOTAL_AMOUNT": 0, "ITEM_LIST": [{ "DISH_NAME": "לימונענע", "ITEM_QTY": 1, "ITEM_AMOUNT": 0, "ON_THE_HOUSE": "1" }, { "DISH_NAME": "לימונדה", "ITEM_QTY": 1, "ITEM_AMOUNT": 0, "ON_THE_HOUSE": "1" }, { "DISH_NAME": "לימונדה", "ITEM_QTY": 1, "ITEM_AMOUNT": 0, "ON_THE_HOUSE": "1" }, { "DISH_NAME": "ענבים בקבוק", "ITEM_QTY": 1, "ITEM_AMOUNT": 0, "ON_THE_HOUSE": "1" }] }, { "CHAIR_NUMBER": 11, "TOTAL_AMOUNT": 0, "ITEM_LIST": [{ "DISH_NAME": "לימונענע גרוס", "ITEM_QTY": 1, "ITEM_AMOUNT": 0, "ON_THE_HOUSE": "1" }] }], "TIPS": [], "CREDIT_PAYMENTS": [], "HOUSE_ACCOUNT_PAYMENTS": [{ "P_ID": "5b72f2c44e9df72c0100b089", "P_TENDER_TYPE": "chargeAccount", "P_NAME": "אבי לוזון", "P_AMOUNT": 65, "P_CHANGE": 0, "ENTRY_METHOD": "swipe", "LAST_4": "xxxx", "PROVIDER_PAYMENT_DATE": "2018-08-14T15:18:38.382Z", "NUMBER": 1, "TIP_AMOUNT": 0, "P_AMOUNT_WO_TIP": 65, "TIP_STATUS": "none", "CANCELED": false, "CHARGE_ACCOUNT_NAME": "אבי לוזון", "SIGNATURE_CAPTURED": false, "SIGNATURE_REQUIRED": true }], "GIFT_CARD_PAYMENTS": [] }, "variables": { "PRINT_TYPE": "BY_TABLE", "BASIC_WEIGHT_UOM": "kg", "ORGANIZATION_NAME": "B.B.B. פתח תקווה", "ORGANIZATION_LEGAL_NAME": "מאקיס יזמות בע\"מ", "ORGANIZATION_BN_NUMBER": "513399980", "ORGANIZATION_TEL": "03-9239000", "ORGANIZATION_ADDR_STREET": "יכין סנטר, יצחק רבין 17", "ORGANIZATION_ADDR_CITY": "פתח תקווה", "ORGANIZATION_ADDR_ZIP": "", "TABLE_NO": 7, "ORDER_NO": 143, "RETURN_TYPE": "", "ORDER_TYPE": "SEATED", "FINAL": "1", "W_ID": 0, "CREATED_AT": "2018-08-14T07:36:51.070Z", "TOTAL_SALES_AMOUNT": 65, "TOTAL_IN_VAT": 65, "TOTAL_EX_VAT": 55.56, "BAL_DUE": 0, "CHANGE": 0, "VAT_AMOUNT": 9.44, "VAT_PERCENT": 17, "TOTAL_PAYMENTS": 65, "TOTAL_ROUNDING": 0, "TOTAL_AMOUNT": 65, "TOTAL_CASH_AMOUNT": 0, "TEMP_VAR_PRINT_CREDIT_SIGNATURE_SLIP": true, "TEMP_VAR_PRINT_HAKAFA_SIGNATURE_SLIP": true, "TEMP_VAR_GENERAL1": true, "TEMP_VAR_GENERAL2": true, "TEMP_VAR_GENERAL3": true, "TEMP_VAR_GENERAL4": true, "TEMP_VAR_GENERAL5": true, "NUMBER_OF_GUESTS": 2, "ORDER_ON_THE_HOUSE": "0", "TOTAL_EXCLUDED_TAX": 0, "TOTAL_INCLUDED_TAX": 9.44, "TOTAL_BEFORE_EXCLUDED_TAX": 65, "TOTAL_AFTER_EXCLUDED_TAX": 65, "SHOW_ZERO_OFFER_ITEMS": true, "ORDER_DOCUMENT_PRINT": "SINGLE_DOC", "DOCUMENT_TYPE": "deliveryNote", "DOCUMENT_NO": 68, "ORIGINAL_DOCUMENT": 0 } } }

// let sampleDocuments = [{"_id":"5c07c1b0e8aecc8b6ebcf074","requestKey":"5c07c1a1e8aecc72debcf06a_5c07c15ff5a8c8cc07004a99_undefined","organization":"59c3f78cd1ea272200200880","documentType":"orderBill","printData":{"collections":{"EXCLUSIVE_TAXES":[{"NAME":"Sales Tax","AMOUNT":1.24,"TAXABLE_AMOUNT":15,"RATE":8.25}],"INCLUSIVE_TAXES":[],"EXEMPTED_TAXES":[],"ORDERED_OFFERS_LIST":[{"OO_ID":"5c07c146f5a8c8cc07d63afb","OFFER_NAME":"Cold Brew 12oz","OFFER_AMOUNT":4.5,"OFFER_PRICE":3,"OFFER_CALC_AMT":3,"OFFER_QTY":1,"OFFER_COURSE":"Beverages","OFFER_UNITS":null,"OFFER_MILLI_UNITS":0,"OPEN_PRICE":false,"EXTRA_CHARGE_LIST":[{"ITEM_NAME":"Cold Brew","ITEM_PRICE":0,"ITEM_AMOUNT":1.5,"EXTRA_CHARGE_MODIFIERS_LIST":[{"MODIFIER_NAME":"Coconut Milk (extra)","MODIFIER_GROUP":"Coffee extras","SINGLED_OUT":false,"MODIFIER_PRICE":0.75,"MODIFIER_AMOUNT":0,"FORMATION":"On"},{"MODIFIER_NAME":"Syrup (extra)","MODIFIER_GROUP":"Coffee extras","SINGLED_OUT":false,"MODIFIER_PRICE":0.75,"MODIFIER_AMOUNT":0,"FORMATION":"On"}]}],"OFFER_TYPE":"Simple"},{"OO_ID":"5c07c14cf5a8c8cc07d63afc","OFFER_NAME":"Latte 12oz","OFFER_AMOUNT":4,"OFFER_PRICE":4,"OFFER_CALC_AMT":4,"OFFER_QTY":1,"OFFER_COURSE":"Beverages","OFFER_UNITS":null,"OFFER_MILLI_UNITS":0,"OPEN_PRICE":false,"OFFER_TYPE":"Simple"},{"OO_ID":"5c07c151f5a8c8cc07d63afd","OFFER_NAME":"Breakfast Tacos","OFFER_AMOUNT":6.5,"OFFER_PRICE":6.5,"OFFER_CALC_AMT":6.5,"OFFER_QTY":1,"OFFER_COURSE":"Other","OFFER_UNITS":null,"OFFER_MILLI_UNITS":0,"OPEN_PRICE":false,"OFFER_TYPE":"Simple"}],"RETURNED_OFFERS_LIST":[],"PAYMENT_LIST":[{"P_ID":"5c07c15ff5a8c8cc07004a99","P_TENDER_TYPE":"creditCard","P_NAME":"Credit","P_AMOUNT":8.12,"P_CHANGE":0,"CUSTOMER_NAME":"TEST/VANTIV","DOCUMENT_STATUS":"printed","ENTRY_METHOD":"swipe","CONFIRMATION_NUMBER":"000015","LAST_4":"4422","PROVIDER_PAYMENT_DATE":"2018-12-05T11:15:46.000Z","PROVIDER_TRANS_ID":"7701680","NUMBER":1,"TIP_AMOUNT":0,"P_AMOUNT_WO_TIP":8.12,"TIP_STATUS":"provided","CANCELED":false,"CARD_TYPE":"Mastercard","ISSUER":"Other","MERCHANT_NUMBER":"3928907","PROVIDER_RESPONSE_CODE":"0","TRANS_TYPE":"Purchase","PROVIDER_RESPONSE_MESSAGE":"AP","PROVIDER_TRANS_STATUS":"completed","EMV_FORMAT":0,"SIGNATURE_CAPTURED":true,"SIGNATURE_REQUIRED":true},{"P_ID":"5c07c164f5a8c8cc07004aa6","P_TENDER_TYPE":"cash","P_NAME":"Cash","P_AMOUNT":8.12,"P_CHANGE":0,"DOCUMENT_STATUS":"printed","ENTRY_METHOD":"swipe","NUMBER":2,"TIP_AMOUNT":0,"P_AMOUNT_WO_TIP":8.12,"TIP_STATUS":"none","CANCELED":false,"P_ROUNDING":0,"SIGNATURE_CAPTURED":false,"SIGNATURE_REQUIRED":true}],"ORDER_DISCOUNTS_LIST":[],"MEMBERS":[],"GUESTS":[{"CHAIR_NUMBER":1,"TOTAL_AMOUNT":0,"ITEM_LIST":[{"DISH_NAME":"Cold Brew","ITEM_QTY":1,"ITEM_AMOUNT":0,"ON_THE_HOUSE":"1","MODIFIERS_LIST":[{"MODIFIER_NAME":"Coconut Milk  (+)","MODIFIER_AMOUNT":0.75},{"MODIFIER_NAME":"Syrup (+)","MODIFIER_AMOUNT":0.75}]},{"DISH_NAME":"Breakfast Tacos","ITEM_QTY":1,"ITEM_AMOUNT":0,"ON_THE_HOUSE":"1"}]},{"CHAIR_NUMBER":2,"TOTAL_AMOUNT":0,"ITEM_LIST":[{"DISH_NAME":"Latte","ITEM_QTY":1,"ITEM_AMOUNT":0,"ON_THE_HOUSE":"1"}]}],"TIPS":[]},"variables":{"PRINT_TYPE":"BY_TABLE","BASIC_WEIGHT_UOM":"kg","ORGANIZATION_NAME":"LAYERED","ORGANIZATION_LEGAL_NAME":"Layered","ORGANIZATION_BN_NUMBER":"123","ORGANIZATION_TEL":"(972) 542-6317","ORGANIZATION_ADDR_STREET":"111 E. Virginia","ORGANIZATION_ADDR_CITY":"McKinney, TX","ORGANIZATION_ADDR_ZIP":"75069","TABLE_NO":1001,"ORDER_NO":180,"F_NAME":"Dror","L_NAME":"Ben-David (Tabit)","RETURN_TYPE":"","ORDER_TYPE":"SEATED","FINAL":"1","W_ID":0,"CREATED_AT":"2018-12-05T12:15:00.124Z","TOTAL_SALES_AMOUNT":15,"TOTAL_IN_VAT":15,"TOTAL_EX_VAT":15,"BAL_DUE":0,"CHANGE":0,"VAT_AMOUNT":0,"VAT_PERCENT":0,"TOTAL_PAYMENTS":16.24,"TOTAL_ROUNDING":0,"TOTAL_AMOUNT":16.24,"TOTAL_CASH_AMOUNT":8.12,"TEMP_VAR_PRINT_CREDIT_SIGNATURE_SLIP":true,"TEMP_VAR_PRINT_HAKAFA_SIGNATURE_SLIP":true,"TEMP_VAR_GENERAL1":true,"TEMP_VAR_GENERAL2":true,"TEMP_VAR_GENERAL3":true,"TEMP_VAR_GENERAL4":true,"TEMP_VAR_GENERAL5":true,"NUMBER_OF_GUESTS":2,"ORDER_ON_THE_HOUSE":"0","CLOSED_AT":"2018-12-05T12:16:33.854Z","TOTAL_EXCLUDED_TAX":1.24,"TOTAL_INCLUDED_TAX":0,"TOTAL_BEFORE_EXCLUDED_TAX":15,"TOTAL_AFTER_EXCLUDED_TAX":16.24,"DETAILED_EXCLUDED_TAX_SUMMARY":true}},"created":"2018-12-05T12:16:48.597Z","lastUpdated":"2018-12-05T12:16:48.597Z","__v":0},{"_id":"5c07c1b0e8aecc7e44bcf075","requestKey":"5c07c1a1e8aecc72debcf06a_5c07c15ff5a8c8cc07004a99_undefined","organization":"59c3f78cd1ea272200200880","documentType":"invoice","printData":{"collections":{"EXCLUSIVE_TAXES":[{"NAME":"Sales Tax","AMOUNT":1.24,"TAXABLE_AMOUNT":15,"RATE":8.25}],"INCLUSIVE_TAXES":[],"EXEMPTED_TAXES":[],"DOCUMENT_ITEMS":[{"ITEM_AMOUNT":8.12,"ITEM_VAT_PERCENT":0,"ITEM_VAT_AMOUNT":0,"ITEM_AMOUNT_EX_VAT":8.12}],"PAYMENT_LIST":[{"P_ID":"5c07c15ff5a8c8cc07004a99","P_TENDER_TYPE":"creditCard","P_NAME":"Credit","P_AMOUNT":8.12,"P_CHANGE":0,"CUSTOMER_NAME":"TEST/VANTIV","DOCUMENT_STATUS":"issued","ENTRY_METHOD":"swipe","CONFIRMATION_NUMBER":"000015","LAST_4":"4422","PROVIDER_PAYMENT_DATE":"2018-12-05T11:15:46.000Z","PROVIDER_TRANS_ID":"7701680","NUMBER":1,"TIP_AMOUNT":0,"P_AMOUNT_WO_TIP":8.12,"TIP_STATUS":"provided","CANCELED":false,"CARD_TYPE":"Mastercard","ISSUER":"Other","MERCHANT_NUMBER":"3928907","PROVIDER_RESPONSE_CODE":"0","TRANS_TYPE":"Purchase","PROVIDER_RESPONSE_MESSAGE":"AP","PROVIDER_TRANS_STATUS":"completed","EMV_FORMAT":0,"SIGNATURE_CAPTURED":true,"SIGNATURE_REQUIRED":true}],"CREDIT_PAYMENTS":[{"P_ID":"5c07c15ff5a8c8cc07004a99","P_TENDER_TYPE":"creditCard","P_NAME":"Credit","P_AMOUNT":8.12,"P_CHANGE":0,"CUSTOMER_NAME":"TEST/VANTIV","DOCUMENT_STATUS":"issued","ENTRY_METHOD":"swipe","CONFIRMATION_NUMBER":"000015","LAST_4":"4422","PROVIDER_PAYMENT_DATE":"2018-12-05T11:15:46.000Z","PROVIDER_TRANS_ID":"7701680","NUMBER":1,"TIP_AMOUNT":0,"P_AMOUNT_WO_TIP":8.12,"TIP_STATUS":"provided","CANCELED":false,"CARD_TYPE":"Mastercard","ISSUER":"Other","MERCHANT_NUMBER":"3928907","PROVIDER_RESPONSE_CODE":"0","TRANS_TYPE":"Purchase","PROVIDER_RESPONSE_MESSAGE":"AP","PROVIDER_TRANS_STATUS":"completed","EMV_FORMAT":0,"SIGNATURE_CAPTURED":true,"SIGNATURE_REQUIRED":true}],"HOUSE_ACCOUNT_PAYMENTS":[],"GIFT_CARD_PAYMENTS":[]},"variables":{"ORDER_DOCUMENT_PRINT":"MULTI_DOC","ORDER_NO":180,"RETURN_TYPE":"","ORDER_TYPE":"SEATED","FINAL":"1","W_ID":0,"CREATED_AT":"2018-12-05T12:15:00.124Z","TOTAL_SALES_AMOUNT":15,"TOTAL_IN_VAT":15,"TOTAL_EX_VAT":15,"BAL_DUE":0,"CHANGE":0,"VAT_AMOUNT":0,"VAT_PERCENT":0,"TOTAL_PAYMENTS":16.24,"TOTAL_ROUNDING":0,"TOTAL_AMOUNT":16.24,"TOTAL_CASH_AMOUNT":8.12,"TEMP_VAR_PRINT_CREDIT_SIGNATURE_SLIP":true,"TEMP_VAR_PRINT_HAKAFA_SIGNATURE_SLIP":true,"TEMP_VAR_GENERAL1":true,"TEMP_VAR_GENERAL2":true,"TEMP_VAR_GENERAL3":true,"TEMP_VAR_GENERAL4":true,"TEMP_VAR_GENERAL5":true,"NUMBER_OF_GUESTS":2,"ORDER_ON_THE_HOUSE":"0","CLOSED_AT":"2018-12-05T12:16:33.854Z","TOTAL_EXCLUDED_TAX":1.24,"TOTAL_INCLUDED_TAX":0,"TOTAL_BEFORE_EXCLUDED_TAX":15,"TOTAL_AFTER_EXCLUDED_TAX":16.24,"DOCUMENT_TYPE":"invoice","DOCUMENT_NO":2545,"ORIGINAL_DOCUMENT":1}},"created":"2018-12-05T12:16:48.669Z","lastUpdated":"2018-12-05T12:16:48.669Z","__v":0}];

let documentViewer = new DocumentViewer();
let documents = [{"_id":"5c175c09b187b8bbe86c1016","requestKey":"5c16730f1dd8328ca1d03c9c_5c1672a8f5a8c87c02004a8d_undefined","organization":"59c3f78cd1ea272200200880","documentType":"orderBill","printData":{"collections":{"EXCLUSIVE_TAXES":[{"NAME":"Sales Tax","AMOUNT":0.68,"TAXABLE_AMOUNT":8.25,"RATE":8.25}],"INCLUSIVE_TAXES":[],"EXEMPTED_TAXES":[],"ORDERED_OFFERS_LIST":[{"OO_ID":"5c167294f5a8c87c02d63af9","OFFER_NAME":"Cold Brew 12oz","OFFER_AMOUNT":3,"OFFER_PRICE":3,"OFFER_CALC_AMT":3,"OFFER_QTY":1,"OFFER_COURSE":"Beverages","OFFER_UNITS":null,"OFFER_MILLI_UNITS":0,"OPEN_PRICE":false,"OFFER_TYPE":"Simple"},{"OO_ID":"5c16729cf5a8c87c02d63afb","OFFER_NAME":"Latte 16oz","OFFER_AMOUNT":5.25,"OFFER_PRICE":5.25,"OFFER_CALC_AMT":5.25,"OFFER_QTY":1,"OFFER_COURSE":"Beverages","OFFER_UNITS":null,"OFFER_MILLI_UNITS":0,"OPEN_PRICE":false,"OFFER_TYPE":"Simple"},{"OO_ID":"5c16729bf5a8c87c02d63afa","OFFER_NAME":"Latte 16oz","OFFER_AMOUNT":5.25,"OFFER_PRICE":5.25,"OFFER_CALC_AMT":5.25,"OFFER_QTY":1,"OFFER_COURSE":"Beverages","OFFER_UNITS":null,"OFFER_MILLI_UNITS":0,"OPEN_PRICE":false,"ORDERED_OFFER_DISCOUNTS":[{"DISCOUNT_AMOUNT":5.25,"DISCOUNT_NAME":"1+1"}],"OFFER_TYPE":"Simple"}],"RETURNED_OFFERS_LIST":[],"PAYMENT_LIST":[{"P_ID":"5c1672a8f5a8c87c02004a8d","P_TENDER_TYPE":"creditCard","P_NAME":"Credit","P_AMOUNT":5.46,"P_CHANGE":0,"CUSTOMER_NAME":"TEST/VANTIV","DOCUMENT_STATUS":"printed","ENTRY_METHOD":"swipe","CONFIRMATION_NUMBER":"000044","LAST_4":"4422","PROVIDER_PAYMENT_DATE":"2018-12-16T14:44:37.000Z","PROVIDER_TRANS_ID":"7834693","NUMBER":1,"TIP_AMOUNT":1,"P_AMOUNT_WO_TIP":4.46,"TIP_STATUS":"provided","CANCELED":false,"CARD_TYPE":"Mastercard","ISSUER":"Other","MERCHANT_NUMBER":"3928907","PROVIDER_RESPONSE_CODE":"0","TRANS_TYPE":"Purchase","PROVIDER_RESPONSE_MESSAGE":"AP","PROVIDER_TRANS_STATUS":"completed","EMV_FORMAT":0,"SIGNATURE_CAPTURED":true,"SIGNATURE_REQUIRED":true},{"P_ID":"5c1672ccf5a8c87c02004a98","P_TENDER_TYPE":"creditCard","P_NAME":"Credit","P_AMOUNT":6.47,"P_CHANGE":0,"CUSTOMER_NAME":"TEST/VANTIV","DOCUMENT_STATUS":"printed","ENTRY_METHOD":"swipe","CONFIRMATION_NUMBER":"000044","LAST_4":"4422","PROVIDER_PAYMENT_DATE":"2018-12-16T14:45:04.000Z","PROVIDER_TRANS_ID":"7834695","NUMBER":2,"TIP_AMOUNT":2,"P_AMOUNT_WO_TIP":4.47,"TIP_STATUS":"provided","CANCELED":false,"CARD_TYPE":"Mastercard","ISSUER":"Other","MERCHANT_NUMBER":"3928907","PROVIDER_RESPONSE_CODE":"0","TRANS_TYPE":"Purchase","PROVIDER_RESPONSE_MESSAGE":"AP","PROVIDER_TRANS_STATUS":"completed","EMV_FORMAT":0,"SIGNATURE_CAPTURED":true,"SIGNATURE_REQUIRED":true}],"ORDER_DISCOUNTS_LIST":[],"MEMBERS":[],"GUESTS":[{"CHAIR_NUMBER":1,"TOTAL_AMOUNT":0,"ITEM_LIST":[{"DISH_NAME":"Cold Brew","ITEM_QTY":1,"ITEM_AMOUNT":0,"ON_THE_HOUSE":"1"},{"DISH_NAME":"Latte 1234567890","ITEM_QTY":1,"ITEM_AMOUNT":0,"ON_THE_HOUSE":"1"},{"DISH_NAME":"Latte 1234567890","ITEM_QTY":1,"ITEM_AMOUNT":0,"ON_THE_HOUSE":"1"}]}],"TIPS":[]},"variables":{"PRINT_TYPE":"BY_TABLE","BASIC_WEIGHT_UOM":"kg","ORGANIZATION_NAME":"LAYERED","ORGANIZATION_LEGAL_NAME":"Layered","ORGANIZATION_BN_NUMBER":"123","ORGANIZATION_TEL":"(972) 542-6317","ORGANIZATION_ADDR_STREET":"111 E. Virginia","ORGANIZATION_ADDR_CITY":"McKinney, TX","ORGANIZATION_ADDR_ZIP":"75069","TABLE_NO":1001,"ORDER_NO":239,"F_NAME":"Maayan","L_NAME":"M","RETURN_TYPE":"","ORDER_TYPE":"SEATED","FINAL":"1","W_ID":0,"CREATED_AT":"2018-12-16T15:43:12.454Z","TOTAL_SALES_AMOUNT":8.25,"TOTAL_IN_VAT":8.25,"TOTAL_EX_VAT":8.25,"BAL_DUE":0,"CHANGE":0,"VAT_AMOUNT":0,"VAT_PERCENT":0,"TOTAL_PAYMENTS":11.93,"TOTAL_ROUNDING":0,"TOTAL_AMOUNT":11.93,"TOTAL_CASH_AMOUNT":0,"TEMP_VAR_PRINT_CREDIT_SIGNATURE_SLIP":true,"TEMP_VAR_PRINT_HAKAFA_SIGNATURE_SLIP":true,"TEMP_VAR_GENERAL1":true,"TEMP_VAR_GENERAL2":true,"TEMP_VAR_GENERAL3":true,"TEMP_VAR_GENERAL4":true,"TEMP_VAR_GENERAL5":true,"TOTAL_TIPS":3,"TOTAL_TIPS_ON_PAYMENTS":3,"TOTAL_TIPS_ON_ORDER":0,"NUMBER_OF_GUESTS":1,"TOTAL_ORDER_DISCOUNTS":0,"TOTAL_ITEM_DISCOUNTS":5.25,"TOTAL_DISCOUNTS":5.25,"ORDER_ON_THE_HOUSE":"0","CLOSED_AT":"2018-12-16T15:45:19.973Z","TOTAL_EXCLUDED_TAX":0.68,"TOTAL_INCLUDED_TAX":0,"TOTAL_BEFORE_EXCLUDED_TAX":8.25,"TOTAL_AFTER_EXCLUDED_TAX":8.93,"DETAILED_EXCLUDED_TAX_SUMMARY":true}},"created":"2018-12-17T08:19:21.263Z","lastUpdated":"2018-12-17T08:19:21.263Z","__v":0}];
let creditSlip = generateCreditSlip(documents, documents[0].printData.collections.PAYMENT_LIST[0].P_ID);

let element = document.createElement('div');
element.id = 'MainElement';
element.style.width = '400px';
element.style.direction = 'rtl';

let html = documentViewer.getDocumentHtml(creditSlip);

element.insertAdjacentHTML('beforeend', html);
document.body.appendChild(element);

function generateCreditSlip(documents, paymentId) {
    let orderBill = _.cloneDeep(documents.find(document => document.documentType === 'orderBill'));
    if (!orderBill)
        return;

    orderBill.printData.collections.PAYMENT_LIST
        = orderBill.printData.collections.PAYMENT_LIST.filter(paymentEntry => paymentEntry.P_ID === paymentId);

    return {
        documentType: 'creditSlip',
        printData: orderBill.printData
    };
}

/*
const tlog = { "_id": "5b72f2d22e0b130100693dac", "_type": "tlog", "lastUpdated": "2018-08-14T15:18:42.098Z", "created": "2018-08-14T15:18:42.098Z", "live": true, "totalAmount": 6500, "diners": 2, "closed": "2018-08-14T15:18:42.052Z", "opened": "2018-08-14T07:36:51.070Z", "businessDate": "2018-07-30T00:00:00.000Z", "organization": "53eb1ee2e6c77111203d8503", "number": 143, "__v": 0, "timeBucket": ["2018-08-14 15-hour", "2018-08-14-day", "2018-33-week", "2018-08-month", "2018-02-quarter", "2018-year"], "order": [{ "serviceType": "seated", "dirty": false, "clientStatistics": { "updatedByOperationalInterface": true, "splitCheckByGuestsOn": false, "inactivateRemovablePromotions": false }, "__v": 7, "createdOnDevice": "Shmuel iPad", "organization": "53eb1ee2e6c77111203d8503", "rosVersion": "4.16.0", "source": "restaurantOnPremise", "orderType": "Seated", "openedBy": "57286dface3eaf030044a62d", "number": 143, "businessDate": "2018-07-30T00:00:00.000Z", "lastUpdated": "2018-08-14T15:18:42.088Z", "owner": "57286dface3eaf030044a62d", "totalTaxAmount": 944, "empty": false, "balance": 0, "paid": true, "lifeCycle": { "dateTime": "2018-08-14T15:18:42.051Z", "name": "closed" }, "isCloseable": true, "shortId": "JDQZNV", "created": "2018-08-14T07:36:51.070Z", "timestamp": "2018-08-14T15:18:42.098Z", "_id": "5b728692e79a4f01005cb401", "closed": "2018-08-14T15:18:42.051Z", "history": [], "pendingPayments": [], "checks": [], "externalSource": { "importIssues": [] }, "failedPayments": [], "lastUpdate": { "at": "2018-08-14T15:18:42.088Z", "by": "57286dface3eaf030044a62d", "deviceName": "Shmuel iPad" }, "offline": { "history": [], "conflicts": [] }, "orderTags": [], "mediaExchangeNotes": [], "segmentations": [], "totals": { "totalAmount": 6500, "salesWithTax": 6500, "totalExemptedTax": 0, "exemptedIncludedTax": 0, "exemptedExcludedTax": 0, "totalExcludedTax": 0, "totalIncludedTax": 944, "totalBeforeTax": 6500, "netSales": 6500, "totalTips": 0, "grossSales": 6500, "totalDiscounts": 0, "totalTipsOnOrder": 0, "totalTipsOnPayments": 0, "totalRefunds": 0, "totalPayments": 6500, "totalServiceCharge": 0 }, "orderSummary": { "loyaltyBenefitsSynced": true, "hasTips": false, "hasUnassignedOffers": false }, "pricingOptimization": { "optimizedUnassignedItemsCount": 0, "optimizedBy": 0, "isOptimized": false, "canBeOptimized": false, "nonOptimizedUnassignedItemsCount": 0, "nonOptimizedOrderedItems": [], "nonOptimizedOrderedOffers": [] }, "pendingApprovals": [], "paymentSummary": { "paymentInProcess": { "startedAt": "2018-08-14T15:18:38.352Z", "processing": false }, "users": ["57286dface3eaf030044a62d"], "sources": [], "failedPaymentsCount": 0, "remainderAmount": 0, "paidAmount": 6500, "totalAuxAmount": 0, "totalAmount": 6500, "numOfDocs": 0, "auxCashOut": 0, "auxCashIn": 0, "cashback": 0, "cashOut": 0, "cashIn": 0, "lastPaymentTime": "2018-08-14T15:18:38.385Z" }, "deliveryNotes": [{ "masterCopyPrinted": true, "_id": "5b72f2d02e0b130100693da6", "cashback": 0, "amount": 6500, "number": 68, "chargeAccount": "54a055d82492f4030083b562", "order": "5b728692e79a4f01005cb401", "businessDate": "2018-07-30T00:00:00.000Z", "organization": "53eb1ee2e6c77111203d8503", "created": "2018-08-14T15:18:40.792Z", "lastUpdated": "2018-08-14T15:18:42.094Z", "_type": "deliveryNote", "__v": 0, "payments": [{ "number": 1, "__v": 0, "_type": "ChargeAccountPayment", "created": "2018-08-14T15:18:38.385Z", "paid": true, "EntryMethod": "SWIPE", "last4": "xxxx", "auxIntent": { "quantity": 0, "created": "2018-08-14T15:18:38.155Z", "_id": "5b72f2ce4e9df72c0100b27d", "inPrecentage": false, "lastUpdated": "2018-08-14T15:18:38.155Z" }, "lastUpdated": "2018-08-14T15:18:38.385Z", "amount": 6500, "_id": "5b72f2c44e9df72c0100b089", "isPayout": false, "offers": [], "receiptPrintMethod": 0, "account": "54a055d82492f4030083b562", "typeEnum": 0, "entryMethod": "swipe", "organization": "53eb1ee2e6c77111203d8503", "businessDate": "2018-07-30T00:00:00.000Z", "order": "5b728692e79a4f01005cb401", "tenderType": "chargeAccount", "accountName": "אבי לוזון", "user": "57286dface3eaf030044a62d", "isGeneric": true, "providerTransactionTime": "2018-08-14T15:18:38.382Z", "approved": { "by": "57286dface3eaf030044a62d", "at": "2018-08-14T15:18:38.382Z" }, "signatureRequired": true, "customerDetails": { "receiptMethod": "print", "notified": [] }, "context": { "type": "order", "id": "5b728692e79a4f01005cb401" } }], "tax": { "amount": 944, "rate": 17 }, "id": "5b72f2d02e0b130100693da6" }], "refunds": [], "invoices": [], "payments": [{ "number": 1, "__v": 0, "_type": "ChargeAccountPayment", "created": "2018-08-14T15:18:38.385Z", "paid": true, "EntryMethod": "SWIPE", "last4": "xxxx", "auxIntent": { "quantity": 0, "created": "2018-08-14T15:18:38.155Z", "_id": "5b72f2ce4e9df72c0100b27d", "inPrecentage": false, "lastUpdated": "2018-08-14T15:18:38.155Z" }, "lastUpdated": "2018-08-14T15:18:38.385Z", "amount": 6500, "_id": "5b72f2c44e9df72c0100b089", "isPayout": false, "offers": [], "receiptPrintMethod": 0, "account": "54a055d82492f4030083b562", "typeEnum": 0, "entryMethod": "swipe", "organization": "53eb1ee2e6c77111203d8503", "businessDate": "2018-07-30T00:00:00.000Z", "order": "5b728692e79a4f01005cb401", "tenderType": "chargeAccount", "accountName": "אבי לוזון", "user": "57286dface3eaf030044a62d", "isGeneric": true, "providerTransactionTime": "2018-08-14T15:18:38.382Z", "approved": { "by": "57286dface3eaf030044a62d", "at": "2018-08-14T15:18:38.382Z" }, "signatureRequired": true, "customerDetails": { "receiptMethod": "print", "notified": [] }, "context": { "type": "order", "id": "5b728692e79a4f01005cb401" } }], "courses": [{ "hasMainItems": false, "hasNonCancelledItems": true, "hasIncompleteItems": false, "hasNonOrderedItems": false, "_id": "5b728693e79a4f01005cb406", "tags": ["__COURSE_INDEX_0"], "orderedItems": ["5b7286974e9df7cb00007801", "5b7286974e9df7cb0000780b", "5b7286974e9df7cb00007815"], "fired": { "at": "2018-08-14T07:37:10.943Z", "by": "57286dface3eaf030044a62d" }, "courseType": "Beverages", "actions": ["fired"], "orderedItemsCount": 3, "id": "5b728693e79a4f01005cb406" }, { "hasMainItems": false, "hasNonCancelledItems": true, "hasIncompleteItems": false, "hasNonOrderedItems": false, "_id": "5b7286a7e79a4f01005cb40e", "tags": ["__COURSE_INDEX_1", "__SPECIFIER_Beverages"], "orderedItems": ["5b72f2bb4e9df72c0100b050", "5b72f2bc4e9df72c0100b057"], "fired": { "at": "2018-08-14T15:18:27.411Z", "by": "57286dface3eaf030044a62d" }, "courseType": "Other", "actions": ["fired"], "orderedItemsCount": 2, "id": "5b7286a7e79a4f01005cb40e" }, { "hasNonCancelledItems": false, "hasIncompleteItems": false, "hasNonOrderedItems": false, "_id": "5b72f2c32e0b130100693d98", "tags": [], "orderedItems": [], "courseType": "Other", "actions": [], "orderedItemsCount": 0, "id": "5b72f2c32e0b130100693d98" }, { "hasNonCancelledItems": false, "hasIncompleteItems": false, "hasNonOrderedItems": false, "_id": "5b72f2c32e0b130100693d99", "tags": [], "orderedItems": [], "courseType": "Other", "actions": [], "orderedItemsCount": 0, "id": "5b72f2c32e0b130100693d99" }, { "hasNonCancelledItems": false, "hasIncompleteItems": false, "hasNonOrderedItems": false, "_id": "5b728693e79a4f01005cb407", "tags": ["__COURSE_INDEX_2"], "orderedItems": [], "courseType": "Entrees", "actions": [], "orderedItemsCount": 0, "id": "5b728693e79a4f01005cb407" }, { "hasNonCancelledItems": false, "hasIncompleteItems": false, "hasNonOrderedItems": false, "_id": "5b728693e79a4f01005cb408", "tags": ["__COURSE_INDEX_3"], "orderedItems": [], "courseType": "Mains", "actions": [], "orderedItemsCount": 0, "id": "5b728693e79a4f01005cb408" }, { "hasNonCancelledItems": false, "hasIncompleteItems": false, "hasNonOrderedItems": false, "_id": "5b728693e79a4f01005cb409", "tags": ["__COURSE_INDEX_4"], "orderedItems": [], "courseType": "Desserts", "actions": [], "orderedItemsCount": 0, "id": "5b728693e79a4f01005cb409" }], "orderedPromotions": [], "orderedDiscounts": [], "rewards": [], "tips": [], "taxes": { "exemption": { "rates": [] }, "applied": [] }, "tax": { "rate": 17, "id": "560be683074d0d9e86451d21" }, "returnedItems": [], "orderedOffers": [{ "_id": "5b7286974e9df7cb00d63b3a", "amount": 1200, "menu": "53eb1f00e6c77111203d881f", "price": 1200, "offer": "53eb1f01e6c77111203d89bf", "diner": "5b7286974e9df7cb00007800", "name": "לימונענע", "orderedItems": ["5b7286974e9df7cb00007801"] }, { "_id": "5b7286974e9df7cb00d63b3b", "amount": 1200, "menu": "53eb1f00e6c77111203d881f", "price": 1200, "offer": "53eb1f00e6c77111203d88cc", "diner": "5b7286974e9df7cb00007800", "name": "לימונדה", "orderedItems": ["5b7286974e9df7cb0000780b"] }, { "_id": "5b7286974e9df7cb00d63b3c", "amount": 1200, "menu": "53eb1f00e6c77111203d881f", "price": 1200, "offer": "53eb1f00e6c77111203d88cc", "diner": "5b7286974e9df7cb00007800", "name": "לימונדה", "orderedItems": ["5b7286974e9df7cb00007815"] }, { "_id": "5b72f2bb4e9df72c01058ed9", "amount": 1000, "menu": "53eb1f00e6c77111203d881f", "price": 1000, "offer": "53eb1f00e6c77111203d8853", "diner": "5b7286974e9df7cb00007800", "name": "ענבים בקבוק", "orderedItems": ["5b72f2bb4e9df72c0100b050"] }, { "_id": "5b72f2bc4e9df72c01058eda", "amount": 1900, "menu": "53eb1f00e6c77111203d881f", "price": 1900, "offer": "53eb1f01e6c77111203d8946", "diner": "5b72f2bc4e9df72c0100b056", "name": "לימונענע גרוס", "orderedItems": ["5b72f2bc4e9df72c0100b057"] }], "orderedItems": [{ "department": "53eb1effe6c77111203d85b9", "category": "564c489755cc710300d2eb8f", "amount": 0, "diner": "5b7286974e9df7cb00007800", "_id": "5b7286974e9df7cb00007801", "item": "53eb1effe6c77111203d868f", "price": 0, "offer": "53eb1f01e6c77111203d89bf", "menu": "53eb1f00e6c77111203d881f", "name": "לימונענע", "taxes": { "applied": [] }, "removedModifiers": [], "selectedModifiers": [{ "isDefault": true, "_id": "5b72f2ba4e9df72c0100b02e", "name": "לימון", "modifier": "5af04057c525cb18007508d4", "modifierGroupName": "לימון", "removedModifiers": [], "selectedModifiers": [], "taxes": { "applied": [] } }, { "isDefault": true, "_id": "5b72f2ba4e9df72c0100b032", "name": "קרח", "modifier": "5af0403ccde74c17000483f0", "modifierGroupName": "קרח", "removedModifiers": [], "selectedModifiers": [], "taxes": { "applied": [] } }], "tags": [] }, { "department": "53eb1effe6c77111203d85b9", "category": "564c489755cc710300d2eb8f", "amount": 0, "diner": "5b7286974e9df7cb00007800", "_id": "5b7286974e9df7cb0000780b", "item": "53eb1effe6c77111203d868d", "price": 0, "offer": "53eb1f00e6c77111203d88cc", "menu": "53eb1f00e6c77111203d881f", "name": "לימונדה", "taxes": { "applied": [] }, "removedModifiers": [], "selectedModifiers": [{ "isDefault": true, "_id": "5b72f2ba4e9df72c0100b037", "name": "לימון", "modifier": "5af04057c525cb18007508d4", "modifierGroupName": "לימון", "removedModifiers": [], "selectedModifiers": [], "taxes": { "applied": [] } }, { "isDefault": true, "_id": "5b72f2ba4e9df72c0100b03b", "name": "קרח", "modifier": "5af0403ccde74c17000483f0", "modifierGroupName": "קרח", "removedModifiers": [], "selectedModifiers": [], "taxes": { "applied": [] } }], "tags": [] }, { "department": "53eb1effe6c77111203d85b9", "category": "564c489755cc710300d2eb8f", "amount": 0, "diner": "5b7286974e9df7cb00007800", "_id": "5b7286974e9df7cb00007815", "item": "53eb1effe6c77111203d868d", "price": 0, "offer": "53eb1f00e6c77111203d88cc", "menu": "53eb1f00e6c77111203d881f", "name": "לימונדה", "taxes": { "applied": [] }, "removedModifiers": [], "selectedModifiers": [{ "isDefault": true, "_id": "5b72f2ba4e9df72c0100b040", "name": "לימון", "modifier": "5af04057c525cb18007508d4", "modifierGroupName": "לימון", "removedModifiers": [], "selectedModifiers": [], "taxes": { "applied": [] } }, { "isDefault": true, "_id": "5b72f2ba4e9df72c0100b044", "name": "קרח", "modifier": "5af0403ccde74c17000483f0", "modifierGroupName": "קרח", "removedModifiers": [], "selectedModifiers": [], "taxes": { "applied": [] } }], "tags": [] }, { "department": "53eb1effe6c77111203d85b9", "category": "564c489755cc710300d2eb8f", "amount": 0, "diner": "5b7286974e9df7cb00007800", "_id": "5b72f2bb4e9df72c0100b050", "item": "53eb1effe6c77111203d868c", "price": 0, "offer": "53eb1f00e6c77111203d8853", "menu": "53eb1f00e6c77111203d881f", "name": "ענבים בקבוק", "taxes": { "applied": [] }, "removedModifiers": [], "selectedModifiers": [{ "isDefault": true, "_id": "5b72f2bb4e9df72c0100b052", "name": "קרח", "modifier": "5af0403ccde74c17000483f0", "modifierGroupName": "קרח", "removedModifiers": [], "selectedModifiers": [], "taxes": { "applied": [] } }], "tags": [] }, { "department": "53eb1effe6c77111203d85b9", "category": "564c489755cc710300d2eb8f", "amount": 0, "diner": "5b72f2bc4e9df72c0100b056", "_id": "5b72f2bc4e9df72c0100b057", "item": "53eb1effe6c77111203d868e", "price": 0, "offer": "53eb1f01e6c77111203d8946", "menu": "53eb1f00e6c77111203d881f", "name": "לימונענע גרוס", "taxes": { "applied": [] }, "removedModifiers": [], "selectedModifiers": [], "tags": [] }], "settings": { "workflowProfile": "55e7dd0b7552e103005ebc2e", "tipBehavior": "mixed", "hideDiners": 0, "chairSequenceNumbering": false }, "clubMembers": [], "diners": [{ "chair": 1, "_id": "5b7286974e9df7cb00007800", "segmentations": [] }, { "chair": 11, "_id": "5b72f2bc4e9df72c0100b056", "segmentations": [] }], "orderer": { "deliveryAddress": { "primary": false } }, "served": { "by": "57286dface3eaf030044a62d", "at": "2018-08-14T07:36:51.056Z" }, "lock": { "device": "Shmuel iPad", "at": "2018-08-14T15:18:42.021Z", "on": "4Hv6kJhNSu2TsPF9xBsWVrVmXnvdWpUl", "by": "57286dface3eaf030044a62d", "locked": true, "rules": { "allowed": [] }, "client": { "clientType": "device", "isPrivate": true } }, "tableIds": ["53eb1ee4e6c77111203d8534"], "mayProduceOrderBill": true, "allDocuments": [{ "masterCopyPrinted": true, "_id": "5b72f2d02e0b130100693da6", "cashback": 0, "amount": 6500, "number": 68, "chargeAccount": "54a055d82492f4030083b562", "order": "5b728692e79a4f01005cb401", "businessDate": "2018-07-30T00:00:00.000Z", "organization": "53eb1ee2e6c77111203d8503", "created": "2018-08-14T15:18:40.792Z", "lastUpdated": "2018-08-14T15:18:42.094Z", "_type": "deliveryNote", "__v": 0, "payments": [{ "number": 1, "__v": 0, "_type": "ChargeAccountPayment", "created": "2018-08-14T15:18:38.385Z", "paid": true, "EntryMethod": "SWIPE", "last4": "xxxx", "auxIntent": { "quantity": 0, "created": "2018-08-14T15:18:38.155Z", "_id": "5b72f2ce4e9df72c0100b27d", "inPrecentage": false, "lastUpdated": "2018-08-14T15:18:38.155Z" }, "lastUpdated": "2018-08-14T15:18:38.385Z", "amount": 6500, "_id": "5b72f2c44e9df72c0100b089", "isPayout": false, "offers": [], "receiptPrintMethod": 0, "account": "54a055d82492f4030083b562", "typeEnum": 0, "entryMethod": "swipe", "organization": "53eb1ee2e6c77111203d8503", "businessDate": "2018-07-30T00:00:00.000Z", "order": "5b728692e79a4f01005cb401", "tenderType": "chargeAccount", "accountName": "אבי לוזון", "user": "57286dface3eaf030044a62d", "isGeneric": true, "providerTransactionTime": "2018-08-14T15:18:38.382Z", "approved": { "by": "57286dface3eaf030044a62d", "at": "2018-08-14T15:18:38.382Z" }, "signatureRequired": true, "customerDetails": { "receiptMethod": "print", "notified": [] }, "context": { "type": "order", "id": "5b728692e79a4f01005cb401" } }], "tax": { "amount": 944, "rate": 17 }, "id": "5b72f2d02e0b130100693da6" }], "lockedBy": "57286dface3eaf030044a62d", "locked": true, "id": "5b728692e79a4f01005cb401" }], "id": "5b72f2d22e0b130100693dac" }


let documentViewer = new DocumentViewer();
let docs = documentViewer.getDocumentsInfoFromTlog(tlog ,sampleDocumentPrintData);

let OrderDocumentsDict = {};
let docsArray = createDocRequests(docs);
let firstDoc = docsArray[0];



function createDocRequests(docs) {
    let isLoadChecks = false;

    docs.forEach(doc => {
        OrderDocumentsDict[doc.id] = {
            id: doc.id,
            docType: doc.type,
            inProgress: true,
            data: undefined
        };

    });

    return docs;

} 

let tpl;
tpl = documentViewer.getHTMLDocument(firstDoc, sampleDocumentPrintData);

let element = document.createElement('div');
element.id = 'MainElement';
element.style.width = '400px';
element.style.direction = 'rtl';

element.insertAdjacentHTML('beforeend', tpl);

// element.querySelector('body').append(documentViewer.getHTMLDocument(firstDoc, sampleDocumentPrintData));

document.body.appendChild(element)*/
